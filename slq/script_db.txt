DROP DATABASE IF EXISTS guia_jovem;
CREATE DATABASE guia_jovem;
USE guia_jovem;

CREATE TABLE usuarios (
    id_usuario INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL,
    senha VARCHAR(50) NOT NULL
);

CREATE TABLE anunciantes (
    id_anunciante INT PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    cnpj VARCHAR(14) NOT NULL,
    endereco VARCHAR(100) NOT NULL,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);

CREATE TABLE anuncios (
    id_anuncio INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    propaganda VARCHAR(100) NOT NULL,
    data_expiracao DATE NOT NULL
);

CREATE TABLE posts (
    id_post INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    data_publicacao DATE NOT NULL,
    hora_publicacao TIME NOT NULL,
    descricao TEXT NOT NULL,
    id_usuario INT NOT NULL,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);

CREATE TABLE comentarios (
    id_comentario INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    id_post INT NOT NULL,
    texto_comentario TEXT NOT NULL,
    data_hora_comentario DATETIME NOT NULL,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario),
    FOREIGN KEY (id_post) REFERENCES posts(id_post)
);
